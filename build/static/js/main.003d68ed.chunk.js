(window.webpackJsonpgeeks_trust_challenges=window.webpackJsonpgeeks_trust_challenges||[]).push([[0],{37:function(e,t,n){e.exports=n(72)},42:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),l=n(9),i=n.n(l),s=n(4),o=n(5),r=n(6),d=n(7),u=n(0),h=n(8),p=(n(42),n(18)),m=n.n(p),f=n(32),v=n(2),V=n(14),b=n.n(V),g=(n(60),function(e){return c.a.createElement("div",{className:"result"},c.a.createElement("h1",null,"Finding Falcone!"),c.a.createElement("p",null,"Success! Congratulations for finding Falcone. King Shah is mighty pleased."),c.a.createElement("p",null,"Time Taken: ",e.count),c.a.createElement("p",null,"Planet Found: ",e.planetName),c.a.createElement("button",{onClick:function(){return window.location.reload()}},"Start Again"))}),O=n(15);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={geekTrustHome:function(){window.location="https://www.geektrust.in"},planetDistanceJson:function(e){var t={};return e.forEach(function(e){t[e.name]=e.distance}),t},vehicleSpeedJson:function(e){var t={};return e.forEach(function(e){t[e.name]={speed:e.speed,distance:e.max_distance}}),t},getCount:function(e){var t=0,n=e.selectedPlanet1,a=e.selectedPlanet2,c=e.selectedPlanet3,l=e.selectedPlanet4,i=e.selectedVehicle1,s=e.selectedVehicle2,o=e.selectedVehicle3,r=e.selectedVehicle4,d=e.vehiclesSpeed,u=e.planetDistance;return i&&(t+=u[n]/d[i].speed),s&&(t+=u[a]/d[s].speed),o&&(t+=u[c]/d[o].speed),r&&(t+=u[l]/d[r].speed),t},setOriginalVehicle:function(e){return e.map(function(e){return j({},e)})},resetDestinationVehicles:function(e,t,n){var a;n.setState((a={},Object(v.a)(a,e,E.setOriginalVehicle(n.state.vehicles)),Object(v.a)(a,t,""),a))},decreaseVehicleNumber:function(e,t,n){var a=n.state,c=a.selectedVehicle1,l=a.selectedVehicle2,i=a.selectedVehicle3,s=a.selectedVehicle4;return e.map(function(e){return e.name===t&&(e.total_no-=1),e.name===c&&(e.total_no-=1,-1===e.total_no&&(e.total_no=0,E.resetDestinationVehicles("destination1Vehicles","selectedVehicle1",n))),e.name===l&&(e.total_no-=1,-1===e.total_no&&(e.total_no=0,E.resetDestinationVehicles("destination2Vehicles","selectedVehicle2",n))),e.name===i&&(e.total_no-=1,-1===e.total_no&&(e.total_no=0,E.resetDestinationVehicles("destination3Vehicles","selectedVehicle3",n))),e.name===s&&(e.total_no-=1,-1===e.total_no&&(e.total_no=0,E.resetDestinationVehicles("destination4Vehicles","selectedVehicle4",n))),e})},getVehiclesObject:function(e,t,n,a){if(n.length)return e.map(function(e){return e.max_distance<a.state.planetDistance[t]||0===e.total_no&&e.name!==n?{value:e.name,label:"".concat(e.name," (").concat(e.total_no,")"),itemClassName:"disabled"}:{value:e.name,label:"".concat(e.name," (").concat(e.total_no,")")}});var c=a.state,l=c.selectedVehicle1,i=c.selectedVehicle2,s=c.selectedVehicle3,o=c.selectedVehicle4;return a.state.vehicles.map(function(e){var n=j({},e);return l===n.name&&(n.total_no-=1),i===n.name&&(n.total_no-=1),s===n.name&&(n.total_no-=1),o===n.name&&(n.total_no-=1),n.max_distance<a.state.planetDistance[t]||0===n.total_no?{value:n.name,label:"".concat(n.name," (").concat(n.total_no,")"),itemClassName:"disabled"}:{value:n.name,label:"".concat(n.name," (").concat(n.total_no,")")}})},getFilteredVehicles:function(e,t){switch(e){case"Destination1":return E.getVehiclesObject(t.state.destination1Vehicles,t.state.selectedPlanet1,t.state.selectedVehicle1,t);case"Destination2":return E.getVehiclesObject(t.state.destination2Vehicles,t.state.selectedPlanet2,t.state.selectedVehicle2,t);case"Destination3":return E.getVehiclesObject(t.state.destination3Vehicles,t.state.selectedPlanet3,t.state.selectedVehicle3,t);case"Destination4":return E.getVehiclesObject(t.state.destination4Vehicles,t.state.selectedPlanet4,t.state.selectedVehicle4,t);default:return t.state.vehicles.map(function(e){return{value:e.name,label:"".concat(e.name," (").concat(e.total_no,")")}})}},planetObject:function(e,t){var n=t.state,a=n.selectedPlanet1,c=n.selectedPlanet2,l=n.selectedPlanet3,i=n.selectedPlanet4,s="";return t.state.planets.map(function(t){return(s=t.name)===e?{value:s,label:s}:s!==a&&s!==c&&s!==l&&s!==i?{value:s,label:s}:{}}).filter(function(e){return 0!==Object.keys(e).length})},errorNotification:function(e){console.log("COMME"),O.NotificationManager.error(e,"Click me!",5e3,function(){alert("callback")})},submitJson:function(e){var t={"Content-Type":"application/json",Accept:"application/json"},n=e.state,a=n.selectedPlanet1,l=n.selectedPlanet2,s=n.selectedPlanet3,o=n.selectedPlanet4,r=n.selectedVehicle1,d=n.selectedVehicle2,u=n.selectedVehicle3,h=n.selectedVehicle4;""!==a&&""!==l&&""!==s&&""!==o&&""!==r&&""!==d&&""!==u&&""!==h?b.a.post("https://findfalcone.herokuapp.com/token",{},{headers:t}).then(function(n){b.a.post("https://findfalcone.herokuapp.com/find",{token:n.data.token,planet_names:[a,l,s,o],vehicle_names:[r,d,u,h]},{headers:t}).then(function(t){if("false"===t.data.status)throw"Please send the Request again or change the Planets and vehicle, Falcone didn't find";i.a.render(c.a.createElement(g,{count:E.getCount(e.state),planetName:t.data.planet_name}),document.getElementById("new-root"))}).catch(function(e){E.errorNotification(e)})}).catch(function(e){E.errorNotification(e)}):E.errorNotification("error")},getDestinationAndVehiclesJson:function(e){b.a.get("https://findfalcone.herokuapp.com/planets").then(function(t){e.setState({planets:t.data,planetDistance:E.planetDistanceJson(t.data)})}).catch(function(e){alert(e.message)}),b.a.get("https://findfalcone.herokuapp.com/vehicles").then(function(t){e.setState({vehicles:t.data,vehiclesSpeed:E.vehicleSpeedJson(t.data)})}).catch(function(e){alert(e.message)})},updateVehicleObject:function(){var e=Object(f.a)(m.a.mark(function e(t,n,a,c){var l,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.state[t].length){e.next=3;break}return e.next=3,c.setState((i={},Object(v.a)(i,n,E.setOriginalVehicle(c.state.vehicles)),Object(v.a)(i,t,""),i));case 3:c.setState((l={},Object(v.a)(l,t,a),Object(v.a)(l,n,E.decreaseVehicleNumber(c.state[n],a,c)),l));case 4:case"end":return e.stop()}},e)}));return function(t,n,a,c){return e.apply(this,arguments)}}()},D=(n(66),n(35)),k=n(33),w=n.n(k),y=void 0,S=function(e){var t=e.allProps,n=t.destination,a=t.vehicleClass,l=t.vehicles,i=t.selectedVehicle;return c.a.createElement("div",{className:a},c.a.createElement(w.a,{name:a,options:l,value:i,onChange:function(e){return y.props.vehicleSelectFun(e,n)}}))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=function(e){var t=e.destination,n=e.vehicleClass,a=e.options,l=e.allProps,i=l.planetSelect,s=l.vehicleSelect,o={option:function(e,t){return C({},e,{borderBottom:"1px dotted pink",backgroundColor:"black",color:t.isSelected?"green":"white",padding:20})},control:function(){return{width:200}},singleValue:function(e,t){return C({},e,{opacity:t.isDisabled?.5:1,transition:"opacity 300ms"})}};return c.a.createElement("div",null,c.a.createElement("h4",null,t),c.a.createElement(D.a,{name:"select"+n,options:a,styles:o,onChange:function(e){return i(e,t)}}),c.a.createElement(S,{vehicleSelectFun:s,allProps:e}))},F=function(e){var t=e.self,n=e.self.state,a=n.selectedVehicle1,l=n.selectedPlanet1,i=n.selectedVehicle2,s=n.selectedPlanet2,o=n.selectedVehicle3,r=n.selectedPlanet3,d=n.selectedVehicle4,u=n.selectedPlanet4;return c.a.createElement("div",null,c.a.createElement(N,{destination:"Destination1",vehicleClass:"vehicleRadioButton1",selectedVehicle:a,options:E.planetObject(l,t),vehicles:l?E.getFilteredVehicles("Destination1",t):[],allProps:e}),c.a.createElement(N,{destination:"Destination2",vehicleClass:"vehicleRadioButton2",selectedVehicle:i,options:E.planetObject(s,t),vehicles:s?E.getFilteredVehicles("Destination2",t):[],allProps:e}),c.a.createElement(N,{destination:"Destination3",vehicleClass:"vehicleRadioButton3",selectedVehicle:o,options:E.planetObject(r,t),vehicles:r?E.getFilteredVehicles("Destination3",t):[],allProps:e}),c.a.createElement(N,{destination:"Destination4",vehicleClass:"vehicleRadioButton4",selectedVehicle:d,options:E.planetObject(u,t),vehicles:u?E.getFilteredVehicles("Destination4",t):[],allProps:e}),c.a.createElement("div",{className:"count"},c.a.createElement("h2",null,"Time Taken: ",E.getCount(t.state)," ")))},J=(n(69),function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"title"},c.a.createElement("h1",null,"Finding Falcone! ")),c.a.createElement("div",{className:"header-options"},c.a.createElement("div",{className:"reset"},c.a.createElement("span",{onClick:function(){return window.location.reload()}},"Reset"),c.a.createElement("span",null,"  |  "),c.a.createElement("span",{className:"geekspage",onClick:function(){return E.geekTrustHome()}}," Geeks Trust Home "))))}),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(d.a)(t).call(this,e))).planetSelect=n.planetSelect.bind(Object(u.a)(n)),n.vehicleSelect=n.vehicleSelect.bind(Object(u.a)(n)),n.state={planets:[],vehicles:[],selectedPlanet1:"",selectedPlanet2:"",selectedPlanet3:"",selectedPlanet4:"",selectedVehicle1:"",selectedVehicle2:"",selectedVehicle3:"",selectedVehicle4:"",destination1Vehicles:[],destination2Vehicles:[],destination3Vehicles:[],destination4Vehicles:[],vehiclesSpeed:{},planetDistance:{}},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){E.getDestinationAndVehiclesJson(this)}},{key:"vehicleSelect",value:function(e,t){switch(t){case"Destination1":E.updateVehicleObject("selectedVehicle1","destination1Vehicles",e,this);break;case"Destination2":E.updateVehicleObject("selectedVehicle2","destination2Vehicles",e,this);break;case"Destination3":E.updateVehicleObject("selectedVehicle3","destination3Vehicles",e,this);break;case"Destination4":E.updateVehicleObject("selectedVehicle4","destination4Vehicles",e,this)}}},{key:"planetSelect",value:function(e,t){var n=E.setOriginalVehicle(this.state.vehicles);switch(t){case"Destination1":this.setState({selectedPlanet1:e.value,destination1Vehicles:n,selectedVehicle1:""});break;case"Destination2":this.setState({selectedPlanet2:e.value,destination2Vehicles:n,selectedVehicle2:""});break;case"Destination3":this.setState({selectedPlanet3:e.value,destination3Vehicles:n,selectedVehicle3:""});break;case"Destination4":this.setState({selectedPlanet4:e.value,destination4Vehicles:n,selectedVehicle4:""})}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"main_container"},c.a.createElement("div",{className:"header"},c.a.createElement(J,null),c.a.createElement("div",{className:"planet-message"},c.a.createElement("p",null,"Select planets you want to search in: "))),c.a.createElement("div",{className:"des_select"},c.a.createElement(F,{self:this,planetSelect:this.planetSelect,vehicleSelect:this.vehicleSelect})),c.a.createElement("div",{className:"footer"},c.a.createElement("button",{type:"button",onClick:function(){return E.submitJson(e)}},"Go!")))}}]),t}(a.Component),T=function(){return c.a.createElement(x,null)};n(70);i.a.render(c.a.createElement(T,null),document.getElementById("new-root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.003d68ed.chunk.js.map
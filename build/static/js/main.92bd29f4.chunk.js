(window.webpackJsonpgeeks_trust_challenges=window.webpackJsonpgeeks_trust_challenges||[]).push([[0],{48:function(e,t,n){e.exports=n(83)},53:function(e,t,n){},71:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(13),i=n.n(l),o=n(6),s=n(7),r=n(8),u=n(9),h=n(1),p=n(10),v=(n(53),n(16)),m=n.n(v),d=n(20),f=n(2),S=n(21),b=n.n(S),O=(n(71),n(18)),E=n(5),j=Object(E.f)(function(e){return console.log("Prop status: ",e.location.state.status),"success"==e.location.state.status?c.a.createElement("div",{className:"result"},c.a.createElement("h1",null,"Found Falcone!"),c.a.createElement("p",null,"You got me the damn Falcone!"),c.a.createElement("p",null,"Time Taken: ",e.location.state.count),c.a.createElement("p",null,"Planet Found: ",e.location.state.planetName),c.a.createElement(O.b,{to:"/"}," Retry")):c.a.createElement("div",{className:"result"},c.a.createElement("h1",null,"Not found Falcone!"),c.a.createElement("p",null,"Time Taken: ",e.location.state.count),c.a.createElement(O.b,{to:"/"}," Retry"))}),g="https://findfalcone.herokuapp.com/",V={"Content-Type":"application/json",Accept:"application/json"},D=function(){var e=Object(d.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(g).concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(g).concat(t),n,{headers:V});case 3:return a=e.sent,console.log("Response of poster: ",a),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),y=n(22);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P={distToPlanets:function(e){var t={};return e.forEach(function(e){t[e.name]=e.distance}),t},vehSpeeds:function(e){var t={};return e.forEach(function(e){t[e.name]={speed:e.speed,distance:e.max_distance}}),t},getCount:function(e){var t=0,n=e.planSelection1,a=e.planSelection2,c=e.planSelection3,l=e.planSelection4,i=e.vehSelection1,o=e.vehSelection2,s=e.vehSelection3,r=e.vehSelection4,u=e.vehiclesSpeed,h=e.planetDistance;return i&&(t+=h[n]/u[i].speed),o&&(t+=h[a]/u[o].speed),s&&(t+=h[c]/u[s].speed),r&&(t+=h[l]/u[r].speed),t},setVehicle:function(e){return e.map(function(e){return _({},e)})},resetDestinationVehicles:function(e,t,n){var a;n.setState((a={},Object(f.a)(a,e,P.setVehicle(n.state.vehicles)),Object(f.a)(a,t,""),a))},reduceVehicleCount:function(e,t,n){var a=n.state,c=a.vehSelection1,l=a.vehSelection2,i=a.vehSelection3,o=a.vehSelection4;return e.map(function(e){return e.name===t&&e.total_no--,e.name===c&&(e.total_no--,-1===e.total_no&&(e.total_no=0,P.resetDestinationVehicles("destination1Vehicles","vehSelection1",n))),e.name===l&&(e.total_no--,-1===e.total_no&&(e.total_no=0,P.resetDestinationVehicles("destination2Vehicles","vehSelection2",n))),e.name===i&&(e.total_no--,-1===e.total_no&&(e.total_no=0,P.resetDestinationVehicles("destination3Vehicles","vehSelection3",n))),e.name===o&&(e.total_no--,-1===e.total_no&&(e.total_no=0,P.resetDestinationVehicles("destination4Vehicles","vehSelection4",n))),e})},getVehiclesObject:function(e,t,n,a){if(n.length)return e.map(function(e){return e.max_distance<a.state.planetDistance[t]||0===e.total_no&&e.name!==n?{value:e.name,label:"".concat(e.name," - ").concat(e.total_no),itemClassName:"disabled"}:{value:e.name,label:"".concat(e.name," - ").concat(e.total_no)}});var c=a.state,l=c.vehSelection1,i=c.vehSelection2,o=c.vehSelection3,s=c.vehSelection4;return a.state.vehicles.map(function(e){var n=_({},e);return l===n.name&&n.total_no--,i===n.name&&n.total_no--,o===n.name&&n.total_no--,s===n.name&&n.total_no--,n.max_distance<a.state.planetDistance[t]||0===n.total_no?{value:n.name,label:"".concat(n.name," - ").concat(n.total_no),itemClassName:"disabled"}:{value:n.name,label:"".concat(n.name," - ").concat(n.total_no)}})},getFilteredVehicles:function(e,t){switch(e){case"Destination1":return P.getVehiclesObject(t.state.destination1Vehicles,t.state.planSelection1,t.state.vehSelection1,t);case"Destination2":return P.getVehiclesObject(t.state.destination2Vehicles,t.state.planSelection2,t.state.vehSelection2,t);case"Destination3":return P.getVehiclesObject(t.state.destination3Vehicles,t.state.planSelection3,t.state.vehSelection3,t);case"Destination4":return P.getVehiclesObject(t.state.destination4Vehicles,t.state.planSelection4,t.state.vehSelection4,t);default:return t.state.vehicles.map(function(e){return{value:e.name,label:"".concat(e.name," (").concat(e.total_no,")")}})}},planetObject:function(e,t){var n=t.state,a=n.planSelection1,c=n.planSelection2,l=n.planSelection3,i=n.planSelection4,o="";return t.state.planets.map(function(t){return(o=t.name)===e?{value:o,label:o}:o!==a&&o!==c&&o!==l&&o!==i?{value:o,label:o}:{}}).filter(function(e){return 0!==Object.keys(e).length})},errorNotification:function(e){y.NotificationManager.info(e,"Incorrect selection. Please retry",3e3)},makeRequest:function(){var e=Object(d.a)(m.a.mark(function e(t){var n,a,c,l,i,o,s,r,u,h,p;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,a=n.planSelection1,c=n.planSelection2,l=n.planSelection3,i=n.planSelection4,o=n.vehSelection1,s=n.vehSelection2,r=n.vehSelection3,u=n.vehSelection4,""===a||""===c||""===l||""===i||""===o||""===s||""===r||""===u){e.next=11;break}return e.next=4,k("token",{});case 4:return h=e.sent,e.next=7,k("find",{token:h.token,planet_names:[a,c,l,i],vehicle_names:[o,s,r,u]});case 7:p=e.sent,t.setState({tokenData:p}),e.next=12;break;case 11:P.errorNotification("Incorrect selection error.");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDestinationAndVehiclesJson:function(){var e=Object(d.a)(m.a.mark(function e(t){var n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("planets");case 2:return n=e.sent,t.setState({planets:n,planetDistance:P.distToPlanets(n)}),e.next=6,D("vehicles");case 6:a=e.sent,t.setState({vehicles:a,vehiclesSpeed:P.vehSpeeds(a)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),updateVehicleObject:function(){var e=Object(d.a)(m.a.mark(function e(t,n,a,c){var l,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.state[t].length){e.next=3;break}return e.next=3,c.setState((i={},Object(f.a)(i,n,P.setVehicle(c.state.vehicles)),Object(f.a)(i,t,""),i));case 3:c.setState((l={},Object(f.a)(l,t,a),Object(f.a)(l,n,P.reduceVehicleCount(c.state[n],a,c)),l));case 4:case"end":return e.stop()}},e)}));return function(t,n,a,c){return e.apply(this,arguments)}}()},N=(n(79),n(46)),x=n(44),C=n.n(x),F=function(e){var t=e.allProps,n=t.destination,a=t.vehicleClass,l=t.vehicles,i=t.vehSelection;return c.a.createElement("div",{className:a},c.a.createElement(C.a,{name:a,options:l,value:i,onChange:function(t){return e.vehicleSelectFun(t,n)}}))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=function(e){var t=e.destination,n=e.vehicleClass,a=e.options,l=e.allProps,i=l.planetSelect,o=l.vehicleSelect,s={option:function(e,t){return R({},e,{borderBottom:"1px dotted pink",backgroundColor:"black",color:t.isSelected?"green":"white",padding:20})},control:function(){return{width:200}},singleValue:function(e,t){return R({},e,{color:"white",opacity:t.isDisabled?.5:1,transition:"opacity 300ms"})}};return c.a.createElement("div",null,c.a.createElement("h4",null,t),c.a.createElement(N.a,{name:"select"+n,options:a,styles:s,onChange:function(e){return i(e,t)}}),c.a.createElement(F,{vehicleSelectFun:o,allProps:e}))},J=function(e){var t=e.self,n=e.self.state,a=n.vehSelection1,l=n.planSelection1,i=n.vehSelection2,o=n.planSelection2,s=n.vehSelection3,r=n.planSelection3,u=n.vehSelection4,h=n.planSelection4;return c.a.createElement("div",null,c.a.createElement("div",{className:"count"},c.a.createElement("span",null,"Time :",P.getCount(t.state)," ")),c.a.createElement(B,{destination:"Destination1",vehicleClass:"radBtn1",vehSelection:a,options:P.planetObject(l,t),vehicles:l?P.getFilteredVehicles("Destination1",t):[],allProps:e}),c.a.createElement(B,{destination:"Destination2",vehicleClass:"radBtn2",vehSelection:i,options:P.planetObject(o,t),vehicles:o?P.getFilteredVehicles("Destination2",t):[],allProps:e}),c.a.createElement(B,{destination:"Destination3",vehicleClass:"radBtn3",vehSelection:s,options:P.planetObject(r,t),vehicles:r?P.getFilteredVehicles("Destination3",t):[],allProps:e}),c.a.createElement(B,{destination:"Destination4",vehicleClass:"radBtn4",vehSelection:u,options:P.planetObject(h,t),vehicles:h?P.getFilteredVehicles("Destination4",t):[],allProps:e}))},A=(n(81),function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"title"},c.a.createElement("h1",null,"Get me the damn Falcon!")),c.a.createElement("div",{className:"header-options"},c.a.createElement("div",{className:"reset"},c.a.createElement("button",{className:"reset-button",onClick:function(){return window.location.reload()}},"Reset"))))}),G=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("p",null,"&copy Finding Falcone 2021"))},I=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(u.a)(t).call(this,e))).planetSelect=n.planetSelect.bind(Object(h.a)(n)),n.vehicleSelect=n.vehicleSelect.bind(Object(h.a)(n)),n.state={planets:[],vehicles:[],planSelection1:"",planSelection2:"",planSelection3:"",planSelection4:"",vehSelection1:"",vehSelection2:"",vehSelection3:"",vehSelection4:"",destination1Vehicles:[],destination2Vehicles:[],destination3Vehicles:[],destination4Vehicles:[],vehiclesSpeed:{},planetDistance:{},tokenData:{}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.getDestinationAndVehiclesJson(this)}},{key:"vehicleSelect",value:function(e,t){switch(t){case"Destination1":console.log("Goes into dest1"),P.updateVehicleObject("vehSelection1","destination1Vehicles",e,this);break;case"Destination2":P.updateVehicleObject("vehSelection2","destination2Vehicles",e,this);break;case"Destination3":P.updateVehicleObject("vehSelection3","destination3Vehicles",e,this);break;case"Destination4":P.updateVehicleObject("vehSelection4","destination4Vehicles",e,this)}}},{key:"planetSelect",value:function(e,t){var n=P.setVehicle(this.state.vehicles);switch(t){case"Destination1":this.setState({planSelection1:e.value,destination1Vehicles:n,vehSelection1:""});break;case"Destination2":this.setState({planSelection2:e.value,destination2Vehicles:n,vehSelection2:""});break;case"Destination3":this.setState({planSelection3:e.value,destination3Vehicles:n,vehSelection3:""});break;case"Destination4":this.setState({planSelection4:e.value,destination4Vehicles:n,vehSelection4:""})}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"container"},c.a.createElement("div",{className:"notification"},c.a.createElement(y.NotificationContainer,null)),c.a.createElement("div",{className:"header"},c.a.createElement(A,null),c.a.createElement("div",{className:"hint"},c.a.createElement("p",null,"Pick your planets"))),c.a.createElement("div",{className:"select"},c.a.createElement(J,{self:this,planetSelect:this.planetSelect,vehicleSelect:this.vehicleSelect})),c.a.createElement("div",{className:"go-button"},c.a.createElement("button",{type:"button",onClick:function(){return P.makeRequest(e)}},"Calculate Result"),("success"===this.state.tokenData.status||"false"===this.state.tokenData.status)&&c.a.createElement("button",{className:"go-button"},c.a.createElement(O.b,{to:{pathname:"/result",state:{status:this.state.tokenData.status,count:P.getCount(this.state),planetName:this.state.tokenData.planet_name}}},"Go to result now!"))),c.a.createElement("div",{className:"footer"},c.a.createElement(G,null)))}}]),t}(a.Component),q=function(e){return c.a.createElement(O.a,null,c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/"},c.a.createElement(I,null)),c.a.createElement(E.a,{exact:!0,path:"/result"},c.a.createElement(j,{location:e.location}))))};n(82);i.a.render(c.a.createElement(O.a,null,c.a.createElement(q,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.92bd29f4.chunk.js.map